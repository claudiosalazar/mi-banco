<div class="contenedor-tabla">
  <table [ngClass]="['table', 'table-striped', claseTabla]" role="table">
    <thead role="columnheader" role="rowgroup">
      <tr role="row">
        <th role="columnheader" (click)="ordenarDatos('fecha'); onHeaderClick()">
          <div class="d-flex align-items-center">
            <span class="ancho">
              <div class="contenido-celda">
                Fecha
              </div>
            </span>
            <span class="material-symbols-outlined animar-icono" [class.rotated-in]="isRotatedIn && columnaSeleccionada === 'fecha'" [class.rotated-out]="!isRotatedIn && columnaSeleccionada === 'fecha'">
              expand_more
            </span>
          </div>
        </th>
        <th role="columnheader" *ngIf="mostrarColumnaDestinatario" (click)="ordenarDatos('nombre_destinatario'); onHeaderClick()">
          <div class="d-flex align-items-center">
            <span class="ancho">
              <div class="contenido-celda">
                Destinatario
              </div>
            </span>
            <span class="material-symbols-outlined animar-icono" [class.rotated-in]="isRotatedIn && columnaSeleccionada === 'nombre_destinatario'" [class.rotated-out]="!isRotatedIn && columnaSeleccionada === 'nombre_destinatario'">
              expand_more
            </span>
          </div>
        </th>
        <th role="columnheader" *ngIf="mostrarColumnaRut" (click)="ordenarDatos('rut_destinatario'); onHeaderClick()">
          <div class="d-flex align-items-center">
            <span class="ancho">
              <div class="contenido-celda">
                Rut
              </div>
            </span>
            <span class="material-symbols-outlined animar-icono" [class.rotated-in]="isRotatedIn && columnaSeleccionada === 'rut_destinatario'" [class.rotated-out]="!isRotatedIn && columnaSeleccionada === 'rut_destinatario'">
              expand_more
            </span>
          </div>
        </th>
        <th role="columnheader" *ngIf="mostrarColumnaNombreProducto"  (click)="ordenarDatos('nombre_producto'); onHeaderClick()">
          <div class="d-flex align-items-center">
            <span class="ancho">
              <div class="contenido-celda">
                Producto
              </div>
            </span>
            <span class="material-symbols-outlined animar-icono" [class.rotated-in]="isRotatedIn && columnaSeleccionada === 'detalle'" [class.rotated-out]="!isRotatedIn && columnaSeleccionada === 'detalle'">
              expand_more
            </span>
          </div>
        </th>
        <th role="columnheader" *ngIf="mostrarColumnaMensaje" (click)="ordenarDatos('mensaje'); onHeaderClick()">
          <div class="d-flex align-items-center">
            <span class="ancho">
              <div class="contenido-celda">
                Mensaje
              </div>
            </span>
            <span class="material-symbols-outlined animar-icono" [class.rotated-in]="isRotatedIn && columnaSeleccionada === 'mensaje'" [class.rotated-out]="!isRotatedIn && columnaSeleccionada === 'mensaje'">
              expand_more
            </span>
          </div>
        </th>
        <th role="columnheader" *ngIf="mostrarColumnaDetalle" (click)="ordenarDatos('detalle'); onHeaderClick()">
          <div class="d-flex align-items-center">
            <span class="ancho">
              <div class="contenido-celda">
                Detalle
              </div>
            </span>
            <span class="material-symbols-outlined animar-icono" [class.rotated-in]="isRotatedIn && columnaSeleccionada === 'detalle'" [class.rotated-out]="!isRotatedIn && columnaSeleccionada === 'detalle'">
              expand_more
            </span>
          </div>
        </th>
        <th role="columnheader" (click)="ordenarDatos('cargo'); onHeaderClick()">
          <div class="d-flex align-items-center">
            <span class="ancho">
              <div class="contenido-celda">
                Cargo
              </div>
            </span>
            <span class="material-symbols-outlined animar-icono" [class.rotated-in]="isRotatedIn && columnaSeleccionada === 'cargo'" [class.rotated-out]="!isRotatedIn && columnaSeleccionada === 'cargo'">
              expand_more
            </span>
          </div>
        </th>
        <th role="columnheader" *ngIf="mostrarColumnaAbono" (click)="ordenarDatos('abono'); onHeaderClick()">
          <div class="d-flex align-items-center">
            <span class="ancho">
              <div class="contenido-celda">
                Abono
              </div>
            </span>
            <span class="material-symbols-outlined animar-icono" [class.rotated-in]="isRotatedIn && columnaSeleccionada === 'abono'" [class.rotated-out]="!isRotatedIn && columnaSeleccionada === 'abono'">
              expand_more
            </span>
          </div>
        </th>
        <th role="columnheader" *ngIf="mostrarColumnaSaldo" (click)="ordenarDatos('saldo'); onHeaderClick()">
          <div class="d-flex align-items-center">
            <span class="ancho">
              <div class="contenido-celda">
                Saldo
              </div>
            </span>
            <span class="material-symbols-outlined animar-icono" [class.rotated-in]="isRotatedIn && columnaSeleccionada === 'saldo'" [class.rotated-out]="!isRotatedIn && columnaSeleccionada === 'saldo'">
              expand_more
            </span>
          </div>
        </th>
      </tr>
    </thead>
    <tbody role="rowgroup">
      <tr *ngFor="let transaccion of paginatedTransacciones" role="row">
        <td role="cell" class="ancho">
          <span class="contenido-celda">{{ transaccion.fecha | date:"dd / MM / yyyy" }}</span>
        </td>
        <td role="cell" class="ancho" *ngIf="mostrarColumnaDestinatario">
          <span class="contenido-celda" *ngIf="mostrarColumnaDestinatario">{{ transaccion.nombre_destinatario }}</span>
        </td>
        <td role="cell" class="ancho" *ngIf="mostrarColumnaRut">
          <span class="contenido-celda" *ngIf="mostrarColumnaRut">{{ transaccion.rut_destinatario | rut}}</span>
        </td>
        <td role="cell" class="ancho" *ngIf="mostrarColumnaNombreProducto">
          <span class="contenido-celda"><strong>{{ transaccion.nombre_producto_trans }}</strong></span>
        </td>
        <td role="cell" class="ancho" *ngIf="mostrarColumnaMensaje">
          <span class="contenido-celda">{{ transaccion.mensaje }}</span>
        </td>
        <td role="cell" class="ancho" *ngIf="mostrarColumnaDetalle">
          <span class="contenido-celda">{{ transaccion.detalle }}</span>
        </td>
        <td role="cell" class="ancho">
          <span class="contenido-celda">{{ transaccion.cargo | pesos }}</span>
        </td>
        <td role="cell" class="ancho" *ngIf="mostrarColumnaAbono">
          <span class="contenido-celda">{{ transaccion.abono | pesos }}</span>
        </td>
        <td role="cell" class="ancho" *ngIf="mostrarColumnaSaldo">
          <span class="contenido-celda">{{ transaccion.saldo | pesos }}</span>
        </td>
      </tr>
    </tbody>
  </table>
  <mb-paginador [datosPaginador]="transacciones" [itemsPerPage]="10" 
  [currentPage]="1" (paginatedData)="paginatedTransacciones = $event" 
  [datosOrdenados]="datosOrdenados"></mb-paginador>
</div>